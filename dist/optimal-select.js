!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OptimalSelect=t():e.OptimalSelect=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.optimize=t.select=void 0;var u=n(3),l=r(u),o=n(1),a=r(o);t.select=l.default,t.optimize=a.default,t.default=l.default},function(e,t){"use strict";function n(e,t){var n=e.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(n.length<3)return e;for(var u=[n.pop()];n.length>1;){var l=n.pop(),o=n.join(" "),a=u.join(" "),i=o+" "+a,c=document.querySelectorAll(i);1!==c.length&&u.unshift(r(o,l,a,t))}return u.unshift(n[0]),n=u,n[0]=r("",n[0],n.slice(1).join(" "),t),n[n.length-1]=r(n.slice(0,-1).join(" "),n[n.length-1],"",t),n.join(" ").replace(/>/g,"> ").trim()}function r(e,t,n,r){if(e.length&&(e+=" "),n.length&&(n=" "+n),/\[*\]/.test(t)){var u=t.replace(/=.*$/,"]"),l=""+e+u+n,o=document.querySelectorAll(l);if(1===o.length&&o[0]===r)t=u;else for(var a=document.querySelectorAll(""+e+u),i=0,c=a.length;c>i;i++)if(a[i].contains(r)){var f=a[i].tagName.toLowerCase(),l=""+e+f+n,o=document.querySelectorAll(l);1===o.length&&o[0]===r&&(t=f);break}}if(/>/.test(t)){var s=t.replace(/>/,""),l=""+e+s+n,o=document.querySelectorAll(l);1===o.length&&o[0]===r&&(t=s)}if(/\:nth-child/.test(t)){var d=t.replace(/nth-child/g,"nth-of-type"),l=""+e+d+n,o=document.querySelectorAll(l);1===o.length&&o[0]===r&&(t=d)}if(/\.\S+\.\S+/.test(t)){for(var g=t.trim().split(".").slice(1).map(function(e){return"."+e}).sort(function(e,t){return e.length-t.length});g.length;){var p=t.replace(g.shift(),""),l=""+e+p+n,o=document.querySelectorAll(l);1===o.length&&o[0]===r&&(t=p)}if(t&&t.match(/\./g).length>2)for(var h=document.querySelectorAll(""+e+t),i=0,c=h.length;c>i;i++)if(h[i].contains(r)){var v=h[i].tagName.toLowerCase(),l=""+e+v+n,o=document.querySelectorAll(l);1===o.length&&o[0]===r&&(t=v);break}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){for(var n=[],g=e,p=n.length,h=t.ignore,v=void 0===h?{}:h;!(g===document||d(g,n,v)||r(g,n,v)||o(g,n,v)||c(g,n,v));)u(g,n,v),n.length===p&&a(g,n,v),n.length===p&&f(g,n,v),n.length===p&&l(g,n,v),n.length===p&&i(g,n,v),n.length===p&&s(g,n,v),g=g.parentNode,p=n.length;return g===document&&n.unshift("*"),n.join(" ")}function r(e,t,n){return g(e,t,n,document)}function u(e,t,n){return g(e,t,n,e.parentNode)}function l(e,t,n){var r=e.getAttribute("class");return m(n.class,r)?!1:v(e,t,"."+r.replace(/ /g,"."))}function o(e,t,n){return p(e,t,n,document)}function a(e,t,n){return p(e,t,n,e.parentNode)}function i(e,t,n){var r=e.attributes;return Object.keys(r).some(function(u){var l=r[u],o=l.name,a=l.value;if(m(n.attribute,o,a,y.attribute))return!1;var i="["+o+'="'+a+'"]';return v(e,t,i)})}function c(e,t,n){return h(e,t,n,document)}function f(e,t,n){return h(e,t,n,e.parentNode)}function s(e,t,n){var r=e.tagName.toLowerCase();return m(n.tag,r)?!1:v(e,t,r)}function d(e,t,n){var r=e.id;return m(n.id,r)?!1:(t.unshift("#"+r),!0)}function g(e,t,n,r){var u=e.getAttribute("class");if(m(n.class,u))return!1;var l=r.getElementsByClassName(u);return 1===l.length?(t.unshift("."+u.replace(/ /g,".")),!0):!1}function p(e,t,n,r){var u=e.attributes;return Object.keys(u).some(function(e){var l=u[e],o=l.name,a=l.value;if(m(n.attribute,o,a,y.attribute))return!1;var i="["+o+'="'+a+'"]',c=r.querySelectorAll(i);return 1===c.length?(t.unshift(i),!0):void 0})}function h(e,t,n,r){var u=e.tagName.toLowerCase();if(m(n.tag,u))return!1;var l=r.getElementsByTagName(u);return 1===l.length?(t.unshift(u),!0):!1}function v(e,t,n){for(var r=e.parentNode,u=r.children,l=0,o=u.length;o>l;l++)if(u[l]===e)return t.unshift("> "+n+":nth-child("+(l+1)+")"),!0;return!1}function m(e,t,n,r){if(!t)return!0;var u=e||r;return u?u(t,n,r):!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var y={attribute:function(e){return["style","data-reactid","data-react-checksum"].indexOf(e)>-1}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Array.isArray(e)?o(e,t):l(e,t)}function l(e,t){if(3===e.nodeType)return l(e.parentNode);if(1!==e.nodeType)throw new Error("Invalid input!");var n=(0,i.default)(e,t),r=(0,f.default)(n,e);return r}function o(e,t){for(var n=null,r=null,u=null,o=null,a=0,i=e.length;i>a;a++){var c=e[a];if(n){if(n!==c.parentNode)return console.log("Can't be efficiently mapped. It probably best to use multiple single selectors instead!")}else n=c.parentNode,r=c.className,o=c.tagName;if(c.className!==r){var f,s,d=[];c.className.length>r.length?(f=c.className,s=r):(f=r,s=c.className),s.split(" ").forEach(function(e){f.indexOf(e)>-1&&d.push(e)}),r=d.join(" ")}c.tagName!==o&&(o=null)}var g=l(n);return console.log(g,r,u,o),r?g+" > ."+r.replace(/ /g,"."):o?g+" > "+o.toLowerCase():g+" > *"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,t.getSingleSelector=l,t.getMultiSelector=o;var a=n(2),i=r(a),c=n(1),f=r(c)}])});
//# sourceMappingURL=optimal-select.js.map